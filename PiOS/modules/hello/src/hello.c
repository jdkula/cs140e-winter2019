#include <uart.h>
#include <printf.h>
#include <rpi.h>

void dumb_print(const char* s) {
    for(int i = 0; s[i]; i++) {
        uart_putc(s[i]);
    }
}

int notmain(void) {
    uart_init();

#if 0
    uart_putc('h');
	uart_putc('e');
	uart_putc('l');
	uart_putc('l');
	uart_putc('o');

	uart_putc(' ');

	uart_putc('w');
	uart_putc('o');
	uart_putc('r');
	uart_putc('l');
	uart_putc('d');

	uart_putc('\n');
#endif

#if 0
	char buf[14];
	buf[0] = 'H';
	buf[1] = 'e';
	buf[2] = 'l';
	buf[3] = 'l';
	buf[4] = 'o';
	buf[5] = ' ';
	buf[6] = 'W';
	buf[7] = 'o';
	buf[8] = 'r';
	buf[9] = 'l';
	buf[10] = 'd';
	buf[11] = '!';
	buf[12] = '\n';
	buf[13] = 0;

    dumb_print(buf);
#endif

#if 0

    const char* str = "Hello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\nHello World!\n This is a grand test of a very long string. How is it handled?\n\n";

    put_uint((unsigned) str);
    put_uint((unsigned) str[0]);

    dumb_print(str);

#endif


    printk("Hello World!\n");


    return 0;
}